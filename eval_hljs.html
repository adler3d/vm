<!DOCTYPE HTML>
<html>
 <head>
  <meta charset="utf-8">
  <title>eval on node.js</title><style type="text/css">code{width:99%;min-height: 64px}</style>
  <link rel="stylesheet" href="hljs/styles/vs.css">
  <script src="hljs/highlight.pack.js"></script>
 </head>
 <body bgcolor="#eee" onload="document.getElementById('code').focus();">
  <form id="postform" action="eval" method="post">
    <p><b>code:</b><input type="submit" value="toHLJS(drop undo/redo)" onclick="return toHLJS();"> <input type="submit" value="toTEXT(drop undo/redo)" onclick="return toTEXT();"> </p>
    <div style="visibility:hidden;position:absolute"><textarea name="code"></textarea><textarea name="data"></textarea></div>
    <p><pre><code spellcheck=false contenteditable="true" class="javascript" id="code" onchange="sync_it()" onkeypress="if(event.keyCode==10||(event.ctrlKey&&event.keyCode==13))document.getElementById('send').click();"></code></pre></p>
    <p><b>data:</b></p>
    <p><pre><code spellcheck=false contenteditable="true" class="javascript" id="data" onchange="sync_it()"></code></pre></p>
    <pre><input type="submit" value="send" id="send" onclick="toSUBMIT()"></pre>
  </form>
  <h2>version 1.5</h2>
  <script>
  function toTEXT(){var c=document.getElementById('code');c.innerHTML=c.innerText;return false;}
  function toHLJS(){var c=document.getElementById('code');toTEXT();hljs.highlightBlock(c);return false;}
  function toSUBMIT(){sync_it();return true;}
  function sync_it(){
    "code.data".split(".").map(e=>document.getElementsByName(e)[0].value=document.getElementById(e).innerText);
  }
  toHLJS();hljs.highlightBlock(document.getElementById("data"));
  "code.data".split(".").map(e=>document.getElementById(e).innerText=document.getElementsByName(e)[0].value);
  toHLJS();hljs.highlightBlock(document.getElementById("data"));
  </script>
 </body>
</html>
